<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<title>Form表单验证</title>
</head>
<style>
	#text{
		width: 300px;
		height: 100px;
		border: 1px solid #000;
		overflow-y: scroll;
		_overflow-y: visible;
	}
</style>
<body>
<div>
	<label for="name"></label><input type="text" required id="name"><br>
	<label for="pwd"></label><input type="password" required id="pwd">
	<button type="submit">提交</button>
	<div id="text" contenteditable="true">
		.....此处省略.....
	</div>
	<script type="text/javascript">
        const obj = {
            fn:function (){
                console.log(this);
                const f = ()=>{
                    console.log(this);
                }
                f();
            }
        }
        obj.fn(); // obj obj
        const fn = obj.fn;
        fn(); // window  window

        const objA = {
            b:()=>{
                console.log(this)
            }
        };
        objA.a = ()=>{
            console.log(this)
        }
        objA.a()
        objA.b()
		const b = objA.b;
        b()

        /**
         * 传入参数 n，表示这个函数执行的时间（毫秒）
         * 执行的结果是 n + 200，这个值将用于下一步骤
         */
        function takeLongTime(n) {
            return new Promise(resolve => {
                setTimeout(() => resolve(n + 200), n);
            });
        }

        function step1(n) {
            console.log(`step1 with ${n}`);
            return takeLongTime(n);
        }

        function step2(m, n) {
            console.log(`step2 with ${m} and ${n}`);
            return takeLongTime(m + n);
        }

        function step3(k, m, n) {
            console.log(`step3 with ${k}, ${m} and ${n}`);
            return takeLongTime(k + m + n);
        }

        async function doIt() {
            console.time("doIt");
            const time1 = 300;
            const time2 = await step1(time1);
            const time3 = await step2(time1, time2);
            const result = await step3(time1, time2, time3);
            console.log(`result is ${result}`);
            console.timeEnd("doIt");
        }

        doIt();
	</script>
</div>
</body>
</html>